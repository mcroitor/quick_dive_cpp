# Событийное программирование

- [Событийное программирование](#событийное-программирование)
  - [Основные понятия](#основные-понятия)
  - [Архитектура приложения](#архитектура-приложения)
  - [Пример](#пример)
  - [Библиография](#библиография)

## Основные понятия

Информационную систему можно рассматривать как некоторый объект, обладающий состоянием и поведением. Состояние информационной системы определяется набором описывающих данную систему значений (атрибуты). Поведение системы определяется набором действий, которые могут быть выполнены над системой.

Значения состояния могут изменяться в результате появления событий. __Событием__ называется некоторое сигнальное сообщение, которое отправлено информационной системе, может быть обработано и привести к изменению ее состояния. Событие может быть инициировано как внешними факторами (например, пользователем), так и самой системой (например, завершение выполнения операции). События, инициированные внешними факторами, называются __внешними событиями__, а события, инициированные самой системой, называются __внутренними событиями__.

Информационная система реагирует на события, обрабатывая их специальными методами, называемыми __обработчиками событий__.

__Событийное программирование__ (или __событийно0ориентированное программирование__, en. _event-driven programming_) — это парадигма программирования, в которой основное внимание уделяется обработке событий. Программа, написанная в соответствии с принципами событийного программирования, представляет собой набор обработчиков событий, которые вызываются при возникновении определенных событий.

## Архитектура приложения

Событийное программирование широко используется в графических интерфейсах, так как позволяет реагировать на действия пользователя. В графическом интерфейсе события могут быть связаны с различными элементами интерфейса, такими как кнопки, поля ввода, меню и т.д. Каждый элемент интерфейса может генерировать события, на которые должны реагировать соответствующие обработчики событий.

Событийное программирование позволяет разделить логику приложения на независимые части, каждая из которых отвечает за обработку определенного события. Это упрощает разработку и поддержку программы, так как каждый обработчик события может быть реализован в виде отдельной функции или метода.

Простейшая архитектура приложения, построенного на основе событийного программирования, включает в себя следующие компоненты:

- __Источник события__ (en. _event source_) — это объект, который генерирует события. Событийный источник может быть представлен как элемент графического интерфейса (например, кнопка, поле ввода), так и другой частью программы (например, сетевой сокет, файловый дескриптор).
- __Обработчик события__ (en. _event handler_) — это функция или метод, которая вызывается при возникновении определенного события. Событийный обработчик выполняет необходимые действия в ответ на событие.
- __Система обработки событий__ (en. _event handling system_) — это компонент программы, который отвечает за обработку событий. Система обработки событий извлекает события из очереди событий и передает их на обработку соответствующим обработчикам.
- __Очередь событий__ (en. _event queue_) — это структура данных, в которой хранятся события, ожидающие обработки. Очередь событий позволяет разделить процесс генерации событий и их обработки.
- __Событийный цикл__ (en. _event loop_) — это основной цикл программы, который извлекает события из очереди событий и передает их на обработку соответствующим обработчикам.
- __Событие__ (en. _event_) — это сигнальное сообщение, которое отправлено информационной системе и может быть обработано. Событие содержит информацию о типе события и дополнительные данные, необходимые для его обработки.
- __Диспетчер событий__ (en. _event dispatcher_) — это компонент программы, который отвечает за генерацию событий и их добавление в очередь событий. Событийный диспетчер связывает событийный источник с соответствующими обработчиками событий.

## Пример

Рассмотрим пример программы, написанной с использованием событийного программирования. Программа представляет собой простой графический интерфейс, в котором есть кнопка и текстовое поле. При нажатии на кнопку в текстовое поле выводится сообщение.

```cpp
#include <iostream>

typedef void (*EventHandler)(Widget*);

class Widget {
public:
    Widget() : eventHandler(nullptr) {}

    void setEventHandler(EventHandler handler) {
        eventHandler = handler;
    }

    void click() {
        if (eventHandler) {
            eventHandler(this);
        }
    }

private:
    EventHandler eventHandler;
};

void onButtonClick(Widget* widget) {
    std::cout << "Button clicked" << std::endl;
}

int main() {
    Widget button;
    button.setEventHandler(onButtonClick);

    button.click();

    return 0;
}
```

## Библиография
