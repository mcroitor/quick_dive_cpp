# Развитие языка С++: стандарты, компиляторы, среда разработки

- [Развитие языка С++: стандарты, компиляторы, среда разработки](#развитие-языка-с-стандарты-компиляторы-среда-разработки)
  - [История языка](#история-языка)
  - [Философия языка](#философия-языка)
  - [Современное состояние языка](#современное-состояние-языка)
  - [Компиляторы](#компиляторы)
    - [GCC](#gcc)
    - [MSVC](#msvc)
    - [Intel C++ Compiler](#intel-c-compiler)
    - [clang](#clang)
    - [llvm](#llvm)
  - [Среды разработки](#среды-разработки)
    - [Code::Blocks](#codeblocks)
    - [Dev-C++](#dev-c)
    - [NetBeans](#netbeans)
    - [Eclipse](#eclipse)
    - [Visual Studio Code](#visual-studio-code)
    - [Visual Studio](#visual-studio)
    - [CLion](#clion)
  - [Библиография](#библиография)

## История языка

Язык создан __Бьёрном Страуструпом__ в начале 80х годов как развитие языка _С_ (_Си_), который захотел добавить в язык некоторые возможности языка Симула, а именно - работу с классами и объектами. Поэтому сначала язык назывался _"Си с классами"_ (_C with classes_). Предварительное описание языка было опубликовано в виде технического отчета в Bell Labs в апреле 1980 года [^1].

При разработке языка Страуструп пользовался следующими критериями:

- хороший инструмент должен предоставлять средства организации программ, подобные имеющимся в _Simula_: классы, форму их иерархии, поддержку параллельности и сильный (т.е. статический) контроль типов, основанный на классах. Эти критерии представлялись существенными для поддержки процесса проектирования, а не для реализации программы;
- необходимо, чтобы он генерировал программы, работающие так же быстро, как написанные на _BCPL_ (предшественник Си), и обладал способностью BCPL объединять раздельно откомпилированные модули в единую программу. Должно быть простое соглашение о связях, чтобы удалось объединять модули, написанные на разных языках, таких как С, Algol68, Fortran, BCPL, ассемблер и т.д. Иначе программист будет вынужден бороться с ограничениями, присущими какому-то одному языку;
- инструмент должен обеспечивать переносимую реализацию. Отсюда следует, что должно быть несколько источников реализации инструмента. Не должно быть также сложной системы поддержки времени исполнения, которую трудно переносить, и допустима лишь очень ограниченная зависимость инструмента от операционной системы.

Ранняя версия языка была доступна для широкой публики с 1983 года и реализовывала

- классы;
- производные классы (но пока без виртуальных функций);
- контроль доступа - открытый/закрытый;
- конструкторы и деструкторы;
- функции, вызываемые при вызове и возврате (позже исключены);
- дружественные классы;
- контроль и преобразование типов аргументов функции;
- встраиваемые (inline) функции;
- аргументы по умолчанию;
- перегрузка оператора присваивания.

В 1984 году была реализована поддержка виртуальных функций, в связи с чем была объявлена поддержка объектно-ориентированного программирования.

Для работы с новым языком Страуструп разработал _cfront_ - транслятор (препроцессор) с нового языка в язык Си. Данный препроцессор задавал долгие годы направление развития языка, однако после попытки добавить в него обработку исключений, он был заброшен

## Философия языка

При разработке языка С++ придерживались следующих целей:

- создать язык программирования, который программирование более приятным занятием для серьезных программистов;
- лучше С;
- поддерживать абстракции данных;
- поддерживать объектно-ориентированное программирование.

Это привело к становлению следующим идеям:

- Эволюция C++ должна определяться реальными задачами;
- Не устремляться в бесплодную погоню за совершенством;
- C++ должен быть полезен сейчас;
- Каждое средство должно иметь достаточно ясную реализацию;
- Всегда оставлять путь для перехода;
- C++ - это язык, а не законченная система;
- Предоставлять всестороннюю поддержку для каждого поддерживаемого стиля программирования;
- Ничего не заставлять делать насильно;
- Поддерживать устоявшиеся методы проектирования;
- Предоставлять средства для организации программ;
- Точно говорить то, что имеется в виду;
- Все возможности должны быть адекватны;
- Важнее включить полезную возможность, чем предотвращать неправильное использование;
- Поддерживать сборку программ из независимо разработанных частей;
- Никаких неявных нарушений статической системы типов;
- Предоставлять для определенных пользователем типов такую же полноценную поддержку, как для встроенных;
- Локальность - это прекрасно;
- Избегать зависимости от порядка;
- Если есть сомнения, выбирать такой вариант средства, которому легче обучить;
- Синтаксис важен, хотя бывает и нелогичным;
- Использование препроцессора должно быть исключено;
- Использовать традиционные компоновщики;
- Никаких неоправданных несовместимостей с С;
- Не оставлять места для языка более низкого уровня, чем C++, исключая ассемблер;
- Правило нулевых издержек: чем не пользуетесь, за то не платите;
- Если есть сомнения, предоставлять средства для ручного контроля.

## Современное состояние языка

Уже в конце 80-х годов С++ [^2] обрел популярность, в связи с чем появилось немалое количество компиляторов, каждый из которых предлагал свои особенности. В связи с этим, программа, написанная на С++ для одного компилятора могла не собираться другим ( а для больших проектов это было гарантировано). В связи с этим в 1998 году вышел первый стандарт языка С++, который определил модель языка, его синтаксис, стандартную библиотеку и т.д.

В 2003 году вышел новый стандарт С++, который, однако, содержал только исправления старого стандарта.

При разработке каждого раздела будущего стандарта языка С++ придерживаются следующих правил:

1. поддержка стабильности языка и обеспечение совместимости с C++98 и, по возможности, с Си;
2. предпочитается введение новых возможностей через стандартную библиотеку, а не через ядро языка;
3. предпочитаются изменения, которые улучшают технику программирования;
4. совершенствовать C++ с точки зрения системного и библиотечного дизайна, вместо введения новых возможностей, полезных для отдельных приложений;
5. увеличивать типобезопасность для обеспечения безопасной альтернативы для нынешних опасных подходов;
6. увеличивать производительность и возможности работать напрямую с аппаратной частью;
7. обеспечивать решение реальных, широко распространённых проблем;
8. реализовать принцип «не платить за то, что не используешь»;
9. сделать C++ проще для изучения без удаления возможностей, используемых программистами-экспертами.

Уделяется внимание новичкам, которые всегда будут составлять большую часть программистов. Многие новички не стремятся углублять уровень владения C++, ограничиваясь его использованием при работе над узкими специфичными задачами. Кроме того, учитывая универсальность C++ и обширность его использования (включая как разнообразие приложений, так и стилей программирования), даже профессионалы могут оказаться новичками при использовании новых парадигм программирования.

История стандартов с важными в них изменениями:

- __с++11__
  - Универсальная инициализация.
  - Конструкторы и операторы присваивания с семантикой переноса.
  - Вывод типов.
  - Цикл по коллекции.
  - Лямбда-выражения.
  - Различные синтаксические дополнения (nullptr, анализ `>>`).
- __c++14__
  - исправление ошибок стандарта _с++11_.
- __c++17__
  - удалены триграфы
  - удалено ключевое слово __register__
  - удалена операция `++` для типа `bool`
  - удалены заявленные исключения
  - библиотека для работы с файловой системой
  - вариативный тип `std::any`
  - параллельные версии для ряда алгоритмов
- __c++20__
  - исправление ошибок стандарта _с++17_.
  - модули
  - сопрограммы
  - введён оператор "звездолёт"
  - концепции
  - Строковые константы как параметры шаблона
  - Именованная инициализация структур
  - библиотека форматирования
  - библиотека для работы с битами
  - библиотека диапазонов
  - библиотека календарей / времени
- __c++23 [^3]__
  - в разработке

## Компиляторы

### GCC

[GCC (GNU Compiler Collection)](https://gcc.gnu.org) - набор компиляторов для различных языков программирования, разработанный в рамках проекта GNU. GCC является свободным программным обеспечением, распространяется в том числе фондом свободного программного обеспечения (FSF) на условиях GNU GPL и GNU LGPL и является ключевым компонентом GNU toolchain. Он используется как стандартный компилятор для свободных UNIX-подобных операционных систем.

Изначально названный GNU C Compiler, поддерживал только язык Си. Позднее GCC был расширен для компиляции исходных кодов на таких языках программирования, как C++, Objective-C, Java, Фортран, Ada, Go, GAS и D.

В настоящее время GCC поддерживается группой программистов со всего мира. GCC является лидером по количеству процессоров и операционных систем, которые он поддерживает.

Будучи официальным компилятором системы GNU, GCC также является главным компилятором для сборки ряда других операционных систем; среди них — различные варианты Linux и BSD (ранее, в настоящее время используется Clang LLVM), а также ReactOS, macOS, OpenSolaris, NeXTSTEP, BeOS и Haiku.

GCC часто выбирается для разработки программного обеспечения, которое должно работать на большом числе различных аппаратных платформ. Различия между "родными" для каждой из аппаратных платформ компиляторами приводят к трудностям при разработке кода, который бы корректно компилировался разными компиляторами, а кроме того, при использовании различных компиляторов сильно усложняются сборочные скрипты, которые должны собирать ПО для всех аппаратных платформ. При использовании GCC для компиляции кода под разные платформы будет использован один и тот же синтаксический анализатор. Поэтому, если удалось собрать программу для одной из целевых платформ, то велика вероятность, что программа нормально соберётся и для других платформ.

Для работы с GCC под Windows обычно используются

- [MSYS2](https://www.msys2.org) - среда для сборки и запуска программ, написанных под Unix, в среде Windows;
- [MingW](https://www.mingw-w64.org) - минимальный набор инструментов для сборки программ под Windows;
- [Cygwin](https://www.cygwin.com) - набор свободных программ и библиотек, позволяющий запускать и компилировать программы, написанные под Unix, в среде Windows.

### MSVC

[MSVC (Microsoft Visual C++)](https://learn.microsoft.com/ru-ru/cpp/) - компилятор для приложений на языке C++, разработанный корпорацией Microsoft и поставляемый либо как часть комплекта Microsoft Visual Studio, либо отдельно в виде бесплатного функционально ограниченного комплекта [Microsoft Visual Studio Community Edition](https://visualstudio.microsoft.com/downloads/).

### Intel C++ Compiler

[Intel C++ Compiler](https://www.intel.com/content/www/us/en/developer/tools/oneapi/dpc-compiler.html) - оптимизирующий компилятор, разрабатываемый фирмой Intel для процессоров семейств x86, x86-64 и IA-64. Главным достоинством компилятора являются выполняемые им высокоуровневые, а также целевые оптимизации под процессоры Intel. Компилятор работает под ОС Linux, Windows, macOS.

### clang

[Clang](https://clang.llvm.org) является фронтендом для языков программирования C, C++, Objective-C, Objective-C++ (англ.) и OpenCL C, использующимся совместно с фреймворком LLVM. Clang транслирует исходные коды в байт-код LLVM, затем фреймворк производит оптимизации и кодогенерацию.

Целью проекта является создание замены GNU Compiler Collection (GCC). Разработка ведётся согласно концепции open source в рамках проекта LLVM.

В проекте участвуют работники нескольких корпораций, в том числе Google и Apple. Исходный код доступен на условиях BSD-подобной лицензии.

### llvm

LLVM (Low Level Virtual Machine) - проект программной инфраструктуры для создания компиляторов и сопутствующих им утилит. Состоит из набора компиляторов из языков высокого уровня (так называемых «фронтендов»), системы оптимизации, интерпретации и компиляции в машинный код.

Написан на C++, обеспечивает оптимизации на этапах компиляции, компоновки и исполнения. Изначально в проекте были реализованы компиляторы для языков Си и C++ при помощи фронтенда Clang, позже появились фронтенды для множества языков, в том числе: C#, Fortran, Haskell, Java (байткод), JavaScript, Ruby, Rust, Scala, Swift и многие другие.

LLVM может создавать машинный код для множества архитектур, в том числе ARM, x86, x86-64, PowerPC, MIPS, SPARC, RISC-V и других (включая GPU от Nvidia и AMD).

Для компиляции С++ кода LLVM использует свою версию компилятора GCC.

## Среды разработки

Средой разработки (IDE - Integrated Development Environment) называют программное обеспечение, предназначенное для создания программного обеспечения. Среда разработки обычно включает в себя текстовый редактор, компилятор, отладчик и другие инструменты, необходимые для разработки программного обеспечения. В настоящее время сложно себе представить разработку сложного программного обеспечения без использования среды разработки. Можно написать небольшую программу в простейшем текстовом редакторе и скомпилировать её с помощью командной строки, но в случае разработки крупных проектов такой подход является непродуктивным.

Существует множество сред разработки для языка С++, некоторые из них, которые рассматриваются ниже.

### Code::Blocks

[Code::Blocks](http://www.codeblocks.org) - свободная среда разработки, предназначенная для создания программного обеспечения на включая С++. Code::Blocks является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS. Часто используется для обучения программированию на языке С++ в школах и университетах.

### Dev-C++

[Dev-C++](https://sourceforge.net/projects/orwelldevcpp) - свободная среда разработки для языка С++, предназначенная для операционной системы Windows. Dev-C++ включает в себя компилятор MinGW, который позволяет компилировать программы на языке С++ под Windows. Является устаревшей средой разработки, однако до сих пор используется для обучения программированию на языке С++ в школах.

### NetBeans

[NetBeans](https://netbeans.apache.org) - свободная среда разработки, предназначенная для создания программного обеспечения на различных языках программирования, включая С++. Продукт был создан компанией Sun Microsystems, но в настоящее время разрабатывается сообществом разработчиков, при поддержке Apache Software Foundation. NetBeans является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS.

### Eclipse

[Eclipse](https://www.eclipse.org) - свободная среда разработки, предназначенная для создания программного обеспечения на различных языках программирования, включая С++. Среда разработки разрабатывается сообществом разработчиков, при поддержке Eclipse Foundation. Eclipse является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS.

### Visual Studio Code

[Visual Studio Code](https://code.visualstudio.com) - свободная среда разработки, предназначенная для создания программного обеспечения на различных языках программирования, включая С++. Разрабатывается компанией Microsoft. За счет наличия большого количества расширений, позволяющих использовать Visual Studio Code для разработки программного обеспечения на различных языках программирования (и не только), Visual Studio Code является одной из самых популярных сред разработки. Visual Studio Code является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS.

### Visual Studio

[Visual Studio](https://visualstudio.microsoft.com) - среда разработки от Microsoft, предназначенная для создания программного обеспечения на различных языках программирования, включая С++. Visual Studio является мощным инструментом, покрывающим все этапы разработки программного обеспечения, включая проектирование, разработку, тестирование и отладку, в связи с чем является частым решением для разработки крупных проектов. Основным компилятором, используемым в Visual Studio, является MSVC. Visual Studio является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS.

### CLion

[CLion](https://www.jetbrains.com/clion) - среда разработки от компании JetBrains, предназначенная для создания программного обеспечения на С++. CLion является мощным инструментом, покрывающим все этапы разработки программного обеспечения, включая проектирование, разработку, тестирование и отладку, в связи с чем является частым решением для разработки крупных проектов. CLion использует компиляторы GCC, MSVC, Clang и другие. CLion является кроссплатформенной средой разработки, что позволяет использовать её на различных операционных системах, включая Windows, Linux и macOS.

## Библиография

[^1][Страуструп Бьёрн, Дизайн и философия С++]
[^2][C++ (Wikipedia)](https://ru.wikipedia.org/wiki/C%2B%2B)
[^3][C++23 (Wikipedia)](https://en.wikipedia.org/wiki/C%2B%2B23)
